(function(a,b){"function"==typeof define&&define.amd?define("frontAPI",[],b):"object"==typeof module&&module.exports?module.exports=b():a.frontAPI?a["frontAPI"+b().getVersion().replace(/\./g,"")]=b():a.frontAPI=b()})(window,function(){function a(){return window.Shop&&Shop.values?Shop.values.currency||"PLN":"PLN"}function b(){return window.Shop&&Shop.lang?Shop.lang.name||"pl_PL":"pl_PL"}function c(a,b){return a.replace(/\{(.+?)\}/g,function(a,c){return c in b?b[c]:a})}function d(d,e){var f;return f=c(d,{id:e.id||"",lang:e.lang||b(),currency:e.currency||a(),search:e.search||""}),e.urlParams&&(f+=e.urlParams),f}function e(a,b,c,d){return"function"!=typeof c&&(c=!1),d=d||{},d.data&&(d.data=JSON.stringify(d.data)),!0===d.noCache&&(b+="?noCache"+Date.now()),!1===c?(syncReq=g.send(b,d.data||"",function(){},a,!1,d.headers),syncReq.responseText?JSON.parse(syncReq.responseText):200===syncReq.status):void i.push({url:b,data:d.data||"",callback:c,method:a,headers:d.headers})}var f,g,h,i;i={requestInProgress:!1,maxRequests:3,requests:0,queue:[],push:function(a){this.queue.push(a),this.requests<this.maxRequests&&this.shift()},shift:function(){var a,b,c;a=this,b=this.queue.splice(0,this.maxRequests-this.requests),c=b.length,this.requests+=c,b.forEach(function(b){g.send(b.url,b.data,function(c,d){return 429===d?(setTimeout(function(){a.queue.push(b),a.shift()},200),!1):void("function"==typeof b.callback&&(c?b.callback(JSON.parse(c)):200===d?b.callback(!0):b.callback(!1)),a.requests-=1,!a.queue.length||a.shift())},b.method,!0,b.headers)})}},h="1.1.0",g={},g.x=function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(a=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],c=0;c<a.length;c++)try{b=new ActiveXObject(a[c]);break}catch(a){}return b},g.send=function(a,b,c,d,e,f){var h,i;if(void 0===e&&(e=!0),h=g.x(),h.open(d,a,e),h.onreadystatechange=function(){4==h.readyState&&c(h.responseText,h.status)},"POST"===d||"PUT"===d){for(i in f)f.hasOwnProperty(i)&&h.setRequestHeader(i,f[i]);h.setRequestHeader("Content-type","application/x-www-form-urlencoded")}return h.send(b),h},f={getCurrency:a,getLang:b,setMaxRequests:function(a){i.maxRequests=a},noConflict:function(){return this},getVersion:function(){return h},compareVersion:function(a){var b;return a=parseInt(a.replace(/\./g,"")),b=parseInt(h.replace(/\./g,"")),a>b?1:a<b?-1:0},getDefaults:function(a,b){return b=b||a||{},e("GET","/webapi/front/shop/defaults/",a)},getCountries:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/countries/{id}/",b),a)},getCountry:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/countries/{id}/",b),a)},login:function(a,b){return b=b||a||{},b.headers={Authorization:"Basic "+btoa(b.data.username+":"+b.data.password)},b.data=null,e("POST",d("/webapi/front/{lang}/auth/login/",b),a,b)},logout:function(a,b){return b=b||a||{},e("POST",d("/webapi/front/{lang}/auth/logout/",b),a,b)},remindPassword:function(a,b){return b=b||a||{},e("POST",d("/webapi/front/{lang}/auth/remind/",b),a,b)},authStatus:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/auth/status/",b),a,b)},getAFContactForm:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/additional-fields/contact-form/",b),a,b)},getAFOrderOnLoggedUser:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/additional-fields/order-logged-on-user/",b),a,b)},getAFOrderWithoutRegistration:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/additional-fields/order-without-registration/",b),a,b)},getAFOrderWithRegistration:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/additional-fields/order-with-registration/",b),a,b)},getAFUserRegistration:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/additional-fields/user-registration/",b),a,b)},getAFUserAccount:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/additional-fields/user-account/",b),a,b)},registerUser:function(a,b){return b=b||a||{},e("POST",d("/webapi/front/{lang}/user/register/",b),a,b)},editUser:function(a,b){return b=b||a||{},e("PUT",d("/webapi/front/{lang}/user/",b),a,b)},getUser:function(a,b){var c;return("interactive"===document.readyState||"complete"===document.readyState)&&(c=document.querySelectorAll("html")[0].getAttribute("data-fmc"),"1"===c||"2"===c)?{}:(b=b||a||{},e("GET",d("/webapi/front/{lang}/user/",b),a,b))},getUserAddress:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/user/address/",b),a,b)},addUserAddress:function(a,b){return b=b||a||{},e("POST",d("/webapi/front/{lang}/user/address/",b),a,b)},removeUserAddress:function(a,b){return b=b||a||{},e("DELETE",d("/webapi/front/{lang}/user/address/{id}",b),a,b)},editUserAddress:function(a,b){return b=b||a||{},e("PUT",d("/webapi/front/{lang}/user/address/{id}",b),a,b)},getUserOrders:function(a,b){var c;return b=b||a||{},("interactive"===document.readyState||"complete"===document.readyState)&&(c=document.querySelectorAll("html")[0].getAttribute("data-fmc"),"1"===c||"2"===c)?{}:e("GET",d("/webapi/front/{lang}/user/orders/{id}",b),a,b)},getLanguages:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/languages/{id}",b),a,b)},getLanguage:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/languages/{id}",b),a,b)},getCurrencies:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/currencies/{id}",b),a,b)},getCurrency:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/currencies/{id}",b),a,b)},getPages:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/pages/{id}",b),a,b)},getNews:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/news/{id}",b),a,b)},getMainNews:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/news/main/",b),a,b)},getBoxNews:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/news/box",b),a,b)},getProduct:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/products/{currency}/{id}",b),a,b)},getProductOption:function(a,b){return b=b||a||{},e("POST",d("/webapi/front/{lang}/products/{currency}/{id}/stock/",b),a,b)},getProductOptionValues:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/products/{currency}/{id}/options/"+b.ids.join(","),b),a,b)},getProductRelated:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/products/{currency}/{id}/related/",b),a,b)},getMainProducts:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/products/{currency}/main/",b),a,b)},getNewProducts:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/products/{currency}/news/",b),a,b)},getPotdProducts:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/products/{currency}/day/",b),a,b)},getPromotionProducts:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/products/{currency}/promotions/",b),a,b)},getBestsellersProducts:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/products/{currency}/bestsellers/",b),a,b)},search:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/products/{currency}/search/{search}",b),a,b)},getProducts:function(a,b){return b=b||a||{},128<b.ids.length&&(b.ids.length=128),e("GET",d("/webapi/front/{lang}/products/{currency}/list/"+b.ids.join(","),b),a,b)},getProductsList:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/products/{currency}/list/",b),a,b)},getLoyaltyProducts:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/loyalty/{currency}/products/",b),a,b)},getLoyaltyProductsAvailableForUser:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/loyalty/{currency}/products/user/",b),a,b)},getProductsFromCategory:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/categories/{id}/products/{currency}/",b),a,b)},getFiltersFromCategory:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/categories/{id}/filters/{currency}/",b),a,b)},getRootCategoryTree:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/categories/main/",b),a,b)},getCategoryChildrens:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/categories/{id}/children/",b),a,b)},getCategoryTree:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/categories/{id}/tree/",b),a,b)},getCategory:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/categories/{id}/",b),a,b)},getCategoryList:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/categories/list/",b),a,b)},getCategories:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/categories/tree/",b),a,b)},getBasketInfo:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/basket/{currency}/",b),a,b)},addToBasket:function(a,b){return b=b||a||{},e("POST",d("/webapi/front/{lang}/basket/{currency}/",b),a,b)},loyaltyAddToBasket:function(a,b){return b=b||a||{},e("POST",d("/webapi/front/{lang}/basket/{currency}/exchange/",b),a,b)},setBasketInfo:function(a,b){return b=b||a||{},e("PUT",d("/webapi/front/{lang}/basket/{currency}/",b),a,b)},removeFromBasket:function(a,b){return b=b||a||{},e("DELETE",d("/webapi/front/{lang}/basket/{currency}/{id}/",b),a,b)},editBasketProductQuantity:function(a,b){return b=b||a||{},e("PUT",d("/webapi/front/{lang}/basket/{currency}/{id}/",b),a,b)},submitOrder:function(a,b){return b=b||a||{},e("POST",d("/webapi/front/{lang}/basket/{currency}/order/",b),a,b)},getPaczkomaty:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/basket/paczkomaty/",b),a,b)},getRegions:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/countries/{id}/regions",b),a,b)},getRegion:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/countries/"+b.country_id+"/regions/{id}",b),a,b)},getPage:function(a,b){return b=b||a||{},e("GET",d("/webapi/front/{lang}/pages/{id}",b),a,b)}};var j=document.createEvent("HTMLEvents");return j.initEvent("frontAPIReady",!1,!0),window.frontAPI=f,document.dispatchEvent(j),f});